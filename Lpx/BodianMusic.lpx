#!name=æ³¢ç‚¹éŸ³ä¹
#!desc=è§£é”æ³¢ç‚¹éŸ³ä¹ä¼šå‘˜ï¼Œç§»é™¤å¼€å±å¹¿å‘Šã€æ¨ªå¹…æ¨å¹¿ã€æ‚¬æµ®å¹¿å‘Šä»¥åŠå•†åŸTabï¼Œå»ºè®®å¸è½½é‡è£…ä½¿ç”¨ã€‚
#!author=ä¼Ÿäºº[https://github.com/WeiGiegie],å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md],ZenmoFeiShi[https://github.com/ZenmoFeiShi],wish[https://github.com/mist-whisper]
#!tag=è§£é”å»å¹¿å‘Š
#!system=iOS iPadOS
#!system_version=15
#!loon_version=3.2.9(837)
#!homepage=https://github.com/mist-whisper/Loon/blob/master/README.md
#!icon=https://raw.githubusercontent.com/mist-whisper/Icon/master/MyIcon/BodianMusic.png
#!date=2025-08-31 00:00:00

[Rewrite]
# ç§»é™¤å¼€å±å¹¿å‘Š
^https://ad\.tencentmusic\.com/config/uni reject-dict
^https:\/\/bd-api\.kuwo\.cn\/api\/(play|service|advert)\/advert\/ reject-dict

# ç§»é™¤æ‚¬æµ®å¹¿å‘Š
^https:\/\/bd-api\.kuwo\.cn\/api\/popup\/ reject-dict
^https:\/\/bd-api\.kuwo\.cn\/api\/pay\/vip\/invitation\/assist\/popup\? reject-dict

# ç§»é™¤æ¨ªå¹…æ¨å¹¿
^https:\/\/bd-api\.kuwo\.cn\/api\/service\/banner\/ reject-dict
^https:\/\/bd-api\.kuwo\.cn\/api\/service\/home\/module\?.*&moduleId=6 reject-dict

# ç§»é™¤ä¼šå‘˜è§’æ ‡
^https:\/\/bd-api\.kuwo\.cn\/api\/pay\/vip\/lowPriceText\? reject-dict
^https:\/\/bd-api\.kuwo\.cn\/api\/service\/global\/config\/vipEnter\? reject-dict
^https:\/\/bd-api\.kuwo\.cn\/api\/ucenter\/vip\/give\/config\? reject-dict

# ç§»é™¤æœç´¢æ¡†çƒ­è¯
^https:\/\/bd-api\.kuwo\.cn\/api\/search\/topic\/word reject-dict

# ç§»é™¤ä¸»é¡µå•†åŸtab
^https:\/\/bd-api\.kuwo\.cn\/api\/service\/global\/config\/scene response-body-json-jq '.data.showShopEntry=false|.data.idolTabShow=true'

# ç²¾ç®€ä¸»é¡µ
^https:\/\/bd-api\.kuwo\.cn\/api\/service\/home\/index response-body-json-jq '.data.moduleList |= map(select(.type != 8 and .type != 5 and .type != 1 and .type != 9 and .type != 6 and .type != 4))'

# ç§»é™¤å¬ç‚¹å„¿ä¸ä¸€æ ·çš„
^https:\/\/bd-api\.kuwo\.cn\/api\/service\/resource\/recommend\? response-body-json-jq '.data.resourceList[] |= del(.resource)'

# ç§»é™¤è¯„è®ºåŒºå•†å“å‘¨è¾¹
^https:\/\/bd-api\.kuwo\.cn\/api\/comments\/v3\/topInfo response-body-json-jq 'del(.data.putao)'

# ç§»é™¤æ²‰æµ¸ç”µå°banner
^https:\/\/bd-api\.kuwo\.cn\/api\/voice\/room\/v2\/sidebar response-body-json-jq '(.data) = {}'


[Script]
http-response ^https?:\/\/bd-api\.kuwo\.cn\/api\/(ucenter\/users\/pub|play\/music\/v2\/(audioUrl|checkRight)|service\/home\/module|pay\/vip\/lowPriceText) script-path=https://raw.githubusercontent.com/mist-whisper/Script/master/BodianMusic/BodianMusic.js, requires-body=true, timeout=60, tag=æ³¢ç‚¹éŸ³ä¹

[MITM]
hostname=bd-api.kuwo.cn, *.kuwo.*, h5app.kuwo.cn, bodianimgcdn.kuwo.cn, ad.tencentmusic.com